<div class="font-inter bg-gray-100 text-gray-800">
  <div class="w-full mx-auto p-6">
    <div class="flex space-x-6">
      <!-- Thông tin đơn hàng (2/3 màn hình) -->
      <div class="flex-2 bg-white p-6 rounded-md shadow-lg w-2/3">
        <div class="flex justify-between items-center mb-6">
          <div>
            <p class="text-xl font-semibold text-[#B16628]">Mã đơn: #{{order.OrderID}}</p>
            <p class="text-sm text-gray-500">{{order.date_created}}</p>
          </div>
          <div>
            <span class="text-yellow-600">Trạng thái giao hàng: <span class="text-orange-500">{{order.OrderStatusID}}</span></span><br>
            <span class="text-yellow-600">Trạng thái thanh toán: <span class="text-orange-500">{{order.PaymentStatusID}}</span></span>
          </div>
        </div>

        <div class="bg-white p-6 rounded-md shadow-lg">
          <div class="mt-6">
            <table class="min-w-full table-auto">
              <thead class="bg-[#F8BC3B] text-white">
                <tr>
                  <th class="px-4 py-2 text-center">Sản phẩm</th>
                  <th class="px-4 py-2 text-center">Số lượng</th>
                  <th class="px-4 py-2 text-center">Giá</th>
                  <th class="px-4 py-2 text-center">Thành tiền</th>
                </tr>
              </thead>
              <tbody>
                <tr *ngFor="let product of order.items">
                  <td class="px-4 py-2 text-center">{{product.name}}</td>
                  <td class="px-4 py-2 text-center">{{product.quantity}}</td>
                  <td class="px-4 py-2 text-center">{{ product.price }} VND</td>
                  <td class="px-4 py-2 text-center">{{ product.total }} VND</td>
                </tr>
              </tbody>
            </table>
          </div>

          <!-- Shipping Info -->
          <div class="mt-6">
            <h3 class="text-xl font-semibold text-[#B16628]">Thông tin vận chuyển</h3>
            <div class="flex justify-between mt-2">
              <p class="text-sm">Mã vận chuyển:</p>
              <p class="text-sm font-semibold">{{order.OrderStatusID}}</p>
            </div>
            <div class="flex justify-between mt-2">
              <p class="text-sm">Đơn vị vận chuyển:</p>
              <p class="text-sm font-semibold">{{order.shippingInfo.company}}</p>
            </div>
            <div class="flex justify-between mt-2">
              <p class="text-sm">Kho lấy hàng:</p>
              <p class="text-sm font-semibold">{{order.shippingInfo.warehouse}}</p>
            </div>
            <div class="flex justify-between mt-2">
              <p class="text-sm">Tổng khối lượng:</p>
              <p class="text-sm font-semibold">{{order.shippingInfo.weight}}</p>
            </div>
          </div>

          <!-- Order Action Buttons -->
          <div class="mt-6 flex space-x-4">
            <button (click)="updateShippingOrder()" class="bg-[#F2E8DA] text-gray-800 px-4 py-2 rounded-md">Cập nhật vận đơn</button>
            <button (click)="printOrder()" class="bg-[#D8A850] text-white px-4 py-2 rounded-md">In vận đơn</button>
          </div>
        </div>

        <!-- Payment Info -->
        <div class="bg-white p-6 rounded-md shadow-lg mt-6">
          <h3 class="text-xl font-semibold text-[#B16628]">Chưa thanh toán</h3>
          <div class="mt-4">
            <label for="order-note" class="block text-sm text-[#B16628]">Ghi chú đơn hàng:</label>
            <textarea [(ngModel)]="order.note" id="order-note" class="w-full p-2 border rounded-md" placeholder="Nhập ghi chú..."></textarea>
          </div>

          <div class="mt-4 flex justify-between items-center">
            <div>
              <p class="text-sm text-[#B16628]">Tổng tiền hàng: {{ getTotalAmount() }} VND</p>
              <p class="text-sm text-[#B16628]">Giảm giá: {{ getDiscount() }} VND</p>
            </div>
            <div class="flex flex-col items-end">
              <p class="text-lg font-semibold text-[#B16628]">Tổng tiền: {{ getFinalTotal() }} VND</p>
              <p class="text-sm text-[#B16628]">Phương thức thanh toán: {{order.paymentMethod}}</p>
            </div>
          </div>

          <button (click)="updateOrder()" class="bg-[#F8BC3B] text-white px-4 py-2 rounded-md mt-6">Cập nhật</button>
        </div>
      </div>

      <!-- Thông tin khách hàng (1/3 màn hình) -->
      <div class="w-1/3 bg-white p-6 rounded-md shadow-lg">
        <div class="mb-4">
          <h3 class="text-xl font-semibold text-[#B16628]">Thông tin người mua</h3>
          <p class="text-sm text-[#38312F]">{{customer.CustomerName}}</p>
          <p class="text-sm text-[#38312F]">Đã đặt xx đơn hàng</p>
          <p class="text-sm text-[#38312F]">Doanh thu tích lũy: {{customer.totalRevenue}}</p>
          <p class="text-sm text-[#38312F]">Điểm tích lũy: {{customer.loyaltyPoints}}</p>
        </div>

        <div class="mb-4">
          <h3 class="text-xl font-semibold text-[#B16628]">Thông tin giao hàng</h3>
          <div class="flex justify-between mt-2">
            <p class="text-sm text-[#38312F]">Tên người nhận:</p>
            <p class="text-sm font-semibold text-[#38312F]">{{customer.CustomerName}}</p>
          </div>
          <div class="flex justify-between mt-2">
            <p class="text-sm text-[#38312F]">Số điện thoại:</p>
            <p class="text-sm font-semibold text-[#38312F]">{{customer.CustomerName}}</p>
          </div>
          <div class="flex justify-between mt-2">
            <p class="text-sm text-[#38312F]">Địa chỉ giao hàng:</p>
            <p class="text-sm font-semibold text-[#38312F]">{{customer.CustomerAdd}}</p>
          </div>
          <div class="flex justify-between mt-2">
            <p class="text-sm text-[#38312F]">Ghi chú về khách hàng:</p>
            <p class="text-sm font-semibold text-[#38312F]">note</p>
          </div>
        </div>

        <div class="flex justify-between items-center mt-6">
          <button *ngIf="orderStatus === 'Chưa xác nhận'" (click)="confirmOrder()" class="bg-[#D8A850] text-white px-4 py-2 rounded-md">Xác nhận đơn hàng</button>
          <p *ngIf="orderStatus === 'Đã xác nhận'" class="text-[#F8BC3B] font-semibold">Đơn hàng đã được xác thực</p>
        </div>
      </div>
    </div>
  </div>

  <!-- Popup xác nhận -->
  <div *ngIf="isPopupVisible" class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center">
    <div class="bg-white p-6 rounded-md shadow-lg">
      <p class="mb-4 text-center">{{popupMessage}}</p>
      <div class="flex justify-center space-x-4">
        <button (click)="closePopup()" class="px-4 py-2 bg-gray-300 rounded-md">Đóng</button>
      </div>
    </div>
  </div>
</div>
